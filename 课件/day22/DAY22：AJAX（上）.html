<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.5.12 (464966)"/><meta name="author" content="704206198@qq.com"/><meta name="created" content="2017-10-24 01:42:19 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2021-06-18 07:15:54 +0000"/><title>DAY22：AJAX（上）</title></head><body><div><span style="font-size: 18px;">异步和同步</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">生活中的同步：  </span></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span></div><div style="text-align: center;"><div style="font-size: 12px;"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 12px; text-decoration: underline;"><img src="DAY22：AJAX（上）.resources/04deff94167de1565c3900fcabfe4080.gif" height="281" width="500"/><br/></span></span></div></div></div><div><br style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">生活中的异步： </span></div><div><br/></div><div style="text-align: center;"><div style="font-size: 12px;"><div><span style="background-color: rgb(251, 250, 248); font-size: 12px;"><img src="DAY22：AJAX（上）.resources/4.gif" height="240" width="320"/><br/></span></div></div></div><div><br style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;"/></div><div><br style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    在JavaScript语言中，同步和异步的概念刚好相反。</span></div><div><br style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    这JavaScript中同步就是：你不执行完上面的代码，那么下面的代码你就别执行；一步一步执行，这就是同步。</span></div><div><br style="color: rgb(51, 51, 51); font-family: Monaco; font-size: 12px;"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    异步就是可以一起执行的代码；</span></div><div><br/></div><div><br/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">进程的概念</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><font style="font-size: 14px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    进程 </span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">!= </span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">程序</span></font></div><div><span style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span></span></span></div><div><span style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    线程</span></span></span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    程序从开始到结束的一次执行过程叫做进程</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    一个进程当中，程序同时运行的多个分支，叫做线程</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    多线程异步执行，可以提高程序的效率</span></div></div><div><br/></div><div><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">ajax</span><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">的概念</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">ajax是前后端数据交互的重要手段</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Ajax 全称为：“Asynchronous JavaScript and XML”（异步 JavaScript 和 XML），它并不是 JavaScript 的一种单一技术，而是利用了一系列交互式网页应用相关的技术所形成的结合体。使用Ajax，我们可以无刷新状态更新页面，并且实现异步提交，提升了用户体验。</span></div><div><br/></div><div><font style="font-size: 14px;"><span style="widows: 1; font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">Ajax 这个概念是由 JesseJamesGarrett 在 2005 年发明的。它本身不是单一技术，是一串技术的集合，主要有：</span></font></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    1.JavaScript，通过用户或其他与浏览器相关事件捕获交互行为</span></span></div><div><br/></div><div><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    2.XMLHttpRequest 对象，通过这个对象可以在不中断其它浏览器任务的情况下向服务器发送请求；</span></div><div><br/></div><div><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    3.服务器上的文件，以 XML、HTML 或 JSON 格式保存文本数据；</span></div><div><br/></div><div><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    4.其它 JavaScript，解释来自服务器的数据（比如 PHP 从 MySQL 获取的数据）并将其呈现到页面上。</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div style="text-align: start;"><div><br/></div></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">由于 Ajax 包含众多特性，优势与不足也非常明显。优势主要以下几点：</span></span></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    1.不需要插件支持（一般浏览器且默认开启 JavaScript 即可）；</span></span></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    2.用户体验极佳（不刷新页面即可获取可更新的数据）；</span></span></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    3.提升 Web 程序的性能（在传递数据方面做到按需发送，不必整体提交）；</span></span></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    4.减轻服务器和带宽的负担（将服务器的一些操作转移到客户端）；</span></span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><span style="border: 0px; widows: 1;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">而 Ajax 的不足由以下几点：</span></span></div><div style="text-align: start;"><span style="widows: 1;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    1.不同版本的浏览器对 XMLHttpRequest 对象支持度不足(比如 IE5 之前)；</span></span></div><div style="text-align: start;"><span style="border: 0px; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    2.前进、后退的功能被破坏（因为 Ajax 永远在当前页，不会记录前后页面）；</span></span></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    3.搜索引擎的支持度不够（因为搜索引擎爬虫还不能理解 JS 引起变化数据的内容）；</span></div><div><br/></div></div><div><br/></div><div><span style="font-size: 18px;">AJAX的使用</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">电话的接打顺序：</span></span></div><div style="font-size: 12px; text-align: center;"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); font-family: Monaco;"><img src="DAY22：AJAX（上）.resources/8B66DCE5-FA76-4B9A-A149-6C5730EE85B0.png" height="465" width="572"/><br/></span></span></div></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    1.首先要有一个电话；</span></span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    2.拨号；</span></span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    3.说话；</span></span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    4.听电话另一边的信息；</span></span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    //有一个电话：创建请求对象；</span></span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">1.var AJAX=new XMLHttpRequest( );</span></span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    //拨号：设置请求参数；</span></span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">2.AJAX.open('get','data/test.json',true);</span></span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    第一个参数：POST||GET</span></span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    POST和GET的区别：</span></span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    1.</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">POST主要用来发送数据，GET主要用来接受数据；</span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    2.</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">PSOT发送数据的安全性较好，而GET较差；</span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    3.</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">POST发送数据不限制大小，而GET大小受限2~100k。</span></div><div style="font-size: 12px;"><span style="font-size: 14px; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    什么时候用GET和POST：</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(255, 38, 0); font-family: Monaco;">在数据获取时用GET方式，在操作数据时应使用POST方式。</span></span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    第二个参数：要请求的url</span></span></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    第三个参数：接受一个布尔值，决定请求的方式</span></span></div><div style="font-size: 12px;"><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    为true时，服务器请求是异步进行的，也就是脚本执行send() 方法后不等待</span><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">服务器的执行结果，而是继续执行脚本代码；</span></div><div style="font-size: 12px;"><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    为false时，服务器请求是同步进行的，也就是脚本执行send() 方法后等待</span><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">服务器的执行结果的返回，若在等待过程中超时，则不再等待，继续执行后面的脚本代码！</span></div><div style="font-size: 12px;"><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span></span></div><div style="font-size: 12px;"><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248);"><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    </span></span></div><div style="font-size: 12px;"><div><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="font-size: 12px;" /><span style="font-size: 14px; widows: 1; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">  //观察状态（是否接通）</span></div></div><div><span style="widows: 1; background-color: rgb(251, 250, 248); font-family: Monaco;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(51, 51, 51);">   </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(51, 51, 51); font-weight: bold;">3.</span></span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">ajax.onreadystatechange = function()</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">{</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">       </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">if (ajax.readyState == 4 &amp;&amp; ajax.status == 200)</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">{</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">           </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">func_succ(ajax.responseText);</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">       </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">}</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">else if(</span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">ajax.readyState == 4 &amp;&amp; </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">ajax.status != 200</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">)</span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">{</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">           </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">//alert("ajax faild readyState:"+ajax.readyState+" status:"+ajax.status);</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">       </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">}</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">   </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">};</span></div><div><span style="font-family: Monaco;">    </span></div><div><span style="font-family: Monaco;">    //歪！</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">4.ajax.send(null);</span></div><div><br style="color: rgb(51, 51, 51);"/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">ajax.readyState</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    0 －（未初始化）还没有调用send()方法</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    1 －（载入）已调用send()方法，正在发送请求</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    2 －（载入完成）send()方法执行完成，已经接收到全部响应内容</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    3 －（交互）正在解析响应内容</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    4 －（完成）响应内容解析完成，可以在客户端调用了</span></div></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">HTTP 状态码 ajax.status</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    1**：请求收到，继续处理</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    2**：操作成功收到，分析、接受</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    3**：完成此请求必须进一步处理</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    4**：请求包含一个错误语法或不能完成</span></span></div><div><font style="font-size: 14px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;"> </span><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">   5**：服务器执行一个完全有效请求失败</span></font></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    100——客户必须继续发出请求</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    101——客户要求服务器根据请求转换HTTP协议版本</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    200——交易成功</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    201——提示知道新文件的URL     </span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    202——接受和处理、但处理未完成</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    203——返回信息不确定或不完</span></span><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">整</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    204——请求收到，但返回信息为空</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    205——服务器完成了请求，用户代理必须复位当前已经浏览过的文件</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    206——服务器已经完成了部分用户的GET请求</span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    300——请求的资源可在多处得到</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    301——删除请求数据</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    302——在其他地址发现了请求数据</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    303——建议客户访问其他URL或访问方式</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    304——客户端已经执行了GET，但文件未变化</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    305——请求的资源必须从服务器指定的地址得到</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    306——前一版本HTTP中使用的代码，现行版本中不再使用</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    307——申明请求的资源临时性删除</span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    400——错误请求，如语法错误</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    401——请求授权失败</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    402——保留有效ChargeTo头响应</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    403——请求不允许</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    404——没有发现文件、查询或URl</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    405——用户在Request-Line字段定义的方法不允许</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    406——根据用户发送的Accept拖，请求资源不可访问</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    407——类似401，用户必须首先在代理服务器上得到授权</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    408——客户端没有在用户指定的饿时间内完成请求</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    409——对当前资源状态，请求不能完成</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    410——服务器上不再有此资源且无进一步的参考地址</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    411——服务器拒绝用户定义的Content-Length属性请求</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    412——一个或多个请求头字段在当前请求中错误</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    413——请求的资源大于服务器允许的大小</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    414——请求的资源URL长于服务器允许的长度</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    415——请求资源不支持请求项目格式</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    416——请求中包含Range请求头字段，在当前请求资源范围内没有range指示值，请求也不包含If-Range请求头字段</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    417——服务器不满足请求Expect头字段指定的期望值，如果是代理服务器，可能是下一级服务器不能满足请求</span></div><div style="font-size: 12px;"><br style="color: rgb(51, 51, 51);"/></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    500——服务器产生内部错误</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    501——服务器不支持请求的函数</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    502——服务器暂时不可用，有时是为了防止发生系统过载</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    503——服务器过载或暂停维修</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    504——关口过载，服务器使用另一个关口或服务来响应用户，等待时间设定值较长</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    505——服务器不支持或拒绝支请求头中指定的HTTP版本</span></div></div></div><div><br/></div><div><br/></div><div><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">AJAX的兼容问题；</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ajax = new XMLHttpRequest();</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">ajax = new ActiveXObject("Microsoft.XMLHTTP");     //IE5</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;;">ajax缓存问题：用时间戳清除缓存；</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 16px; background-color: rgb(251, 250, 248); color: rgb(255, 122, 116); font-family: &quot;Yu Gothic UI&quot;;">ajaxGet('data/test.txt?t='+ new Date().getTime(),fn)</span></div></div><div><br/></div><div><br/></div><div><span style="font-size: 16px; font-family: &quot;Yu Gothic UI&quot;;">eval( )方法：将字符串转换成JavaScript可以认识的编码；</span></div><div><br/></div><div><span style="font-size: 16px; font-family: &quot;Yu Gothic UI&quot;;">拓展：</span></div><div><br/></div><div><span style="font-size: 16px; font-family: &quot;Yu Gothic UI&quot;;">服务器的交互以及JSON的格式。</span></div><div style="margin: 10px auto; text-indent: 0px; letter-spacing: normal; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><br/></div><div><span style="font-size: 16px; font-family: &quot;Yu Gothic UI&quot;;">商品列表：</span></div><div><br/></div><div><a href="DAY22：AJAX（上）.resources/JavascriptAJAX.rar">JavascriptAJAX.rar</a></div><div><br/></div><div><br/></div><div>主要单词回顾：</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></body></html>