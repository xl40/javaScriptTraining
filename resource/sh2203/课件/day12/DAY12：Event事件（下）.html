<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.5.12 (464966)"/><meta name="author" content="704206198@qq.com"/><meta name="created" content="2017-10-17 04:15:37 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2021-08-05 07:42:35 +0000"/><title>DAY12：Event事件（下）</title></head><body><div><span style="font-size: 18px;">1.浏览器的默认行为，如何阻止</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    就是浏览器自己触发的事件。比如：a链接的跳转，form提交时的跳转，鼠标右键菜单。</span></span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    oncontextmenu    鼠标右键事件</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    当触发鼠标的右键事件时，会弹出右键菜单，这就是默认事件情况之一</span></span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    如何阻止默认事件？</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    e.preventDefault();</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    window.event.returnValue = false;</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    处理兼容方式</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    if( e.preventDefault ){</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">        e.preventDefault();</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    }else{</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">        window.event.returnValue = false;</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    }</span></span></div><div><br/></div><div>return false</div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    案例：自定义右键菜单</span></span></div></div><div><br/></div><div><span style="font-size: 18px;">2.鼠标拖拽效果<span style="font-size: 18px;">（onmousedown／onmousemove／onmouseup）</span></span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    拖拽分解：</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        按下鼠标 ----&gt; 移动鼠标 ----&gt; 松开鼠标</span></span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    1.给目标元素添加onmousedown事件，拖拽的前提是在目标元素按下鼠标左键</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    2.当onmousedown发生以后，此刻给document添加onmousemove事件，意味着此刻鼠标在网页的移动都将改变目标元素的位置</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    3.在onmousemove事件中，设定目标元素的left和top，</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    公式</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    目标元素的left = 鼠标的clientX – （鼠标和元素的横坐标差，即offsetX）</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    目标元素的top = 鼠标的clientY– （鼠标和元素的纵坐标差，即offsetY）</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    4.当onmousedown发生以后，此刻给document添加onmouseup事件，意味着此刻鼠标在网页的任意位置松开鼠标，都会放弃拖拽的效果</span></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    在onmouseup事件中，取消document的onmousemove事件即可。</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    扩展：回放</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(255, 122, 116); font-family: Monaco;">    多维数组：arr=[{ddd:123,eee:123},234,[1,2,3,4,5]]</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    多维数组的使用：arr[index].ddd</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco;">    </span><a href="DAY12%EF%BC%9AEvent%E4%BA%8B%E4%BB%B6%EF%BC%88%E4%B8%8B%EF%BC%89.resources/%E5%AE%8C%E7%BE%8E%E6%8B%96%E6%8B%BD.htm">完美拖拽.htm</a></div><div style="font-size: 12px;"><br/></div><div style="font-size: 12px;"><br/></div></div><div><br/></div><div><span style="font-size: 18px;">3.事件监听器（兼容）</span></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">   </span> <span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">事件触发阶段主要由于事件流：DOM0级事件处理阶段和DOM2级事件处理；</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    DOM0级事件处理，是一种赋值方式，是被所有浏览器所支持的，简单易懂容易操作；</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        元素.onclick = function(){}</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    DOM2级事件处理是所有DOM节点中的方法，可以重复绑定，但是浏览器兼容存在问题；</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    非IE下：(这里的事件名不带on),第三个参数表示是在捕获阶段还是冒泡阶段。可以重复绑定事件，执行顺序按照绑定顺序来执行。</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    oDiv.addEventListener('click',fn,false);</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    oDiv.removeEventListener('click',fn ,false);</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    IE下：</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    只有冒泡阶段,所以没有第三个参数；（这里的事件名需要加on）</span></span></div><div><span style="font-size: 14px; background-color: rgb(251, 250, 248); color: rgb(51, 51, 51); font-family: Monaco;">    oDiv.attachEvent()；</span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    oDiv.detachEvent() ;</span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);">冒泡：从下往上（从里往外）</span></div><div><span style="background-color: rgb(251, 250, 248);">捕获：从上往下（从外往内）</span></div><div><br/></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    兼容问题解决：</span></div><div style="font-size: 12px;"><span style="font-size: 12px; background-color: rgb(251, 250, 248);">1.封装成对象的方式</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    var EventUtil={</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        addHandler:function(DOM,EventType,fn){</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            if(DOM.addEventListener){</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">                DOM.addEventListener(EventType,fn,false);</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            }else if(DOM.attachEvent){</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">                DOM.attachEvent('on'+EventType,fn)</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            }else{</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">                DOM['on'+EventType]=fn</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            }</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        },</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        removeHandler:function(DOM,EventType,fn){</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            if(DOM.removeEventListener){</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">                DOM.removeEventListener(EventType,fn,false)</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            }else if(DOM.detachEvent){</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">                DOM.detachEvent('on'+EventType,fn)</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            }else{</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">                DOM['on'+EventType]=null;</span></div><div style="font-size: 12px;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">            }</span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">        }</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">    }</span></span></div><div><br/></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">2.封装成两个函数的方式</span></span></div><div><span style="background-color: rgb(251, 250, 248);"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(54, 75, 192); font-family: Monaco;">    function</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(219, 120, 0); font-family: Monaco;">addEvent</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">(</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(165, 120, 0); font-family: Monaco;">obj</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">,</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(165, 120, 0); font-family: Monaco;">inci</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">,</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(165, 120, 0); font-family: Monaco;">back</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">){</span></span></div><div style="min-height: 16pt;"><font style="font-size: 14px;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">        if</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">(obj.addEventListener){</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">            obj.addEventListener(inci,back);</span></span></div><div style="min-height: 16pt;"><font style="font-size: 14px;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">        }</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">else if</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">(obj.attachEvent){</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">            obj.attachEvent(</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(36, 140, 133); font-family: Monaco;">"on"</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">+</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">inci,back);</span></div><div style="min-height: 16pt;"><font style="font-size: 14px;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">        }</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">else</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">{</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">            obj[</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(36, 140, 133); font-family: Monaco;">"on"</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">+</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">inci]</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">=</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">back;</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">        }</span></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">    }</span></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">          </span></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(54, 75, 192); font-family: Monaco;">    function</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(219, 120, 0); font-family: Monaco;">removeEvent</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">(</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(165, 120, 0); font-family: Monaco;">obj</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">,</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(165, 120, 0); font-family: Monaco;">inci</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">,</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(165, 120, 0); font-family: Monaco;">back</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">){</span></div><div style="min-height: 16pt;"><font face="Monaco" style="font-size: 14px;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(87, 121, 9);">        if</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">(obj.removeEventListener){</span></font></div><div style="min-height: 11pt;"><font face="Monaco" style="font-size: 14px;"><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">            obj.removeEventListener(inci,back,</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(155, 28, 235);">false</span><span style="min-height: 11pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">);</span></font></div><div style="min-height: 16pt;"><font face="Monaco" style="font-size: 14px;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">        }</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(87, 121, 9);">else if</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">(obj.detachEvent){</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">            obj.detachEvent(</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(36, 140, 133); font-family: Monaco;">"on"</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">+</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">inci,back</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">);</span></div><div style="min-height: 16pt;"><font face="Monaco" style="font-size: 14px;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">        }</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(87, 121, 9);">else</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; font-family: Monaco; color: rgb(8, 8, 8);">{</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">            obj[</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(36, 140, 133); font-family: Monaco;">"on"</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">+</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">inci]</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(87, 121, 9); font-family: Monaco;">=</span> <span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(155, 28, 235); font-family: Monaco;">null</span><span style="min-height: 16pt; background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">;</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">        }</span></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">    }</span></span></div><div><span style="min-height: 16pt;"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(8, 8, 8); font-family: Monaco;">          </span></span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248);"><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco;">封装兼容问题；</span></span></div><div><br/></div><div style="font-size: 12px;"><span style="font-size: 14px;"><a href="DAY12%EF%BC%9AEvent%E4%BA%8B%E4%BB%B6%EF%BC%88%E4%B8%8B%EF%BC%89.resources/jianrong.html">jianrong.html</a></span></div><div style="font-size: 12px;"><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 18px;">4.事件委托机制</span></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    通过e.target获取触发事件的事件源</span></div><div><br/></div><div><span style="background-color: rgb(251, 250, 248); font-size: 14px; color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;">    利用事件冒泡原理，将绑定在多个子元素身上的相同事件，绑定在页面上现存的父元素身上。利用事件目标找到真正触发事件的元素</span></div><div><br/></div><div><br/></div><div><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">        oul.</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(219, 120, 0); font-family: consolas;">onclick</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">=</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(54, 75, 192); font-family: consolas;">function</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">(</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(165, 120, 0); font-family: consolas;">eve</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">){</span></div><div style="min-height: 17pt;"><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">             </span><span style="min-height: 17pt; font-size: 15pt; color: rgb(54, 75, 192); font-family: consolas;">var</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">e</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">=</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">eve</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">||</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(60, 122, 3); font-family: consolas;">window</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">.</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(60, 122, 3); font-family: consolas;">event</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">;</span></div><div style="min-height: 17pt;"><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">             </span><span style="min-height: 17pt; font-size: 15pt; color: rgb(54, 75, 192); font-family: consolas;">var</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">target</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">=</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">e.target</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">||</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">e.srcElement;</span></div><div style="min-height: 17pt;"><span style="min-height: 17pt; font-size: 15pt; color: rgb(1, 1, 1); font-family: consolas;">             </span><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">if</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">(target.nodeName</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(87, 121, 9); font-family: consolas;">==</span><span style="font-size: 12px;" /><span style="min-height: 17pt; font-size: 15pt; color: rgb(36, 140, 133); font-family: consolas;">"LI"</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">){</span></div><div style="min-height: 17pt;"><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">                 </span><span style="min-height: 17pt; font-size: 15pt; color: rgb(60, 122, 3); font-family: consolas;">console</span><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">.log(target.innerHTML);</span></div><div style="min-height: 17pt;"><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">             }</span></div><div><span style="min-height: 17pt; font-size: 15pt; color: rgb(8, 8, 8); font-family: consolas;">         }</span></div><div><span style="font-size: 12px;">优势：</span></div><div><span style="font-size: 12px;">    1.节省性能</span></div><div><span style="font-size: 12px;">    2.可以给页面上暂时不存在的元素绑定事件</span></div><div><br/></div></div><div><br/></div><div><br/></div><div><span style="font-size: 18px;">1.掌握兼容问题</span></div><div><br/></div><div><span style="font-size: 18px;">2.自定义右键菜单</span></div><div><br/></div><div><span style="font-size: 18px;">3.掌握事件监听的封装</span></div><div><br/></div><div><br/></div><div><br/></div><div><span style="font-size: 18px;">1.鼠标移动轨迹 , 一连串元素跟随鼠标移动</span></div><div><br/></div><div><span style="font-size: 18px;">2.弹出窗口拖拽</span></div><div><br/></div><div><br/></div><div style="font-size: 16px;"><br clear="none" style="font-size: 16px;"/></div><div style="font-size: 16px;"><div><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;, Arial, sans, sans-serif;">3.复习并深入JSON对象／构造函数</span></div><div><br/></div></div><div><span style="font-size: 18px; font-family: &quot;Helvetica Neue&quot;, Arial, sans, sans-serif;">4.事件捕获:不太具体的节点应该更早的接收到事件，而最具体的节点，应该最后接收到事件</span></div><div style="font-size: 16px;"><br clear="none"/></div><div style="font-size: 16px;"><span style="font-size: 16px;">事件流的三种状态：</span></div><div style="font-size: 16px;"><span style="font-size: 16px;">    事件冒泡</span></div><div style="font-size: 16px;"><span style="font-size: 16px;">    事件捕获</span></div><div style="font-size: 16px;"><span style="font-size: 16px;">    目标阶段</span></div><div style="font-size: 16px;"><span style="font-size: 16px;"><img src="DAY12%EF%BC%9AEvent%E4%BA%8B%E4%BB%B6%EF%BC%88%E4%B8%8B%EF%BC%89.resources/EA32988E-C0D2-4036-8D4D-7E06A60A6547.jpg" height="173" width="329"/><br/></span></div><div style="font-size: 16px;"><span style="font-size: 16px;">                                   目标阶段</span></div><div style="font-size: 16px;"><br/></div><div>事件对象</div><div>事件对象的属性</div><div>事件冒泡</div><div>默认事件</div><div>事件监听</div><div>事件委托</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>