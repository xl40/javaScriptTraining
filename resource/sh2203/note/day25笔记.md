# 一、复习
1. ajaxGet封装
    - 参数：url，请求数据（可选），请求成功时的回调函数
    - 内部：
        - 处理默认参数，当没有发送请求数据时的回调函数的处理
        - 处理请求数据，拼接到url身上
        - 开启ajax
            - onload事件内，根据状态执行请求成功的回调函数
            - 将接收到的响应数据传参给回调函数

# 二、ajaxPost封装

# 三、跨域 - 理解原理即可
1. 当使用XMLHttpRequest对象发起请求时，发起请求的地址 和 要请求的资源地址，没有遵守浏览器的同源策略，且要请求的资源地址中没有设置允许访问名单，会由浏览器主动报错，报不允许请求的错
    - 发起请求的地址，如：http://localhost:3000/ajax_bug.html
    - 要请求的资源地址，如：http://localhost:3000/api
    - 同源策略：
        - 浏览器规定的为了请求数据的安全性的请求规则，要求：
        - 同协议：
            - http 和 https
        - 同域名
            - localhost 和 127.0.0.1
            - www.baidu.com 和 baidu.com
        - 同端口
            - :3000 和 :3001
2. 跨域的解决方案：
    - 不使用XMLHttpRequest对象发起请求
        - 表单：比较过时的请求方式
        - 利用某些具有特殊功能的html标签发起请求：jsonp
            - script
            - 需要得到后端的配合，以及前端的请求方式的修改
    - 不使用浏览器发起请求：服务器代理
        - 搭建一个临时服务器环境
        - 在客户端中请求临时服务器，由临时服务器转而请求真正的跨域的目标服务器，拿到数据后，由临时服务器响应给客户端
    - 在请求的目标服务器中，设置允许访问名单：CORS
        - 纯后端的解决方案
        - 安全性比较低
        - 不建议使用
        
# 四、jsonp的实现
1. jsonp的原理：利用具有特殊功能的html标签script
    - script：会将自身引入的文本资源作为js代码执行
    - 配合js的函数传参，实现跨域获取数据
    - 前端，通过在url上拼接get数据的方式，和后端统一用来传参的函数名
2. jsonp的应用
    - 淘宝的搜索下拉菜单
        - url：https://suggest.taobao.com/sug
            - k: 1
            - area: c2c
            - 要搜索的关键字：q: 手j
            - code: utf-8
            - ts: 1652512732893
            - jsonp时向后端发送函数名的字段：callback: __jp5

# 作业
1. ajaxGet和ajaxPost的二合一封装
    - 思考
2. 使用jsonp，模拟京东的下拉菜单
    - 数据接口换成京东的
    - 再把曾经做过的下拉菜单功能，融入到本案例中
3. 使用ajax，根据商品搜索地址实现商品列表页面的渲染
    - 地址：http://icodeilife.club:3000/api/pro/search
        - get请求
        - 要搜索的关键字：sKey
    - 提醒
        - 与上个案例的接口分属于两个不同的公司，关键字可能不通用

# 注意
1. 前后端交互只能交互文本，字符