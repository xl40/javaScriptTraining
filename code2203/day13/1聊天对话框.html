<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    </style>
</head>
<body>
    <div class="box">
        <div class="cont">
            
        </div>
        <div>
            <textarea class="txt"></textarea>
            <input type="button" class="btn" value="发送">
        </div>
    </div>
</body>
<script>
    var otxt = document.querySelector(".txt");
    var obtn = document.querySelector(".btn");
    var ocont = document.querySelector(".cont");

    obtn.onclick = function(){
        send();
    }

    otxt.onkeydown = function(eve){
        var e = eve || window.event;
        var code = e.keyCode || e.which;

        // 回车发送
        if(code === 13){
            send();
            // 回车发送后，会触发文本域的换行，所以清除默认事件
            e.preventDefault();
        }

        // ctrl+回车发送
        // if(code === 13 && e.ctrlKey){
        //     send();
        // }
    }

    function send(){
        // 先判断输入框是否为空，如果为空，立即结束函数执行
        if(otxt.value === "") return;
        // 创建元素
        var p = document.createElement("p");
        // 设置内容
        p.innerText = otxt.value;
        // 插入到指定容器
        ocont.appendChild(p);
        // 清空输入框
        otxt.value = "";
    }

</script>
</html>